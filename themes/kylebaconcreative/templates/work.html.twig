{% embed 'partials/base.html.twig' %}

{% set collection = page.collection %}

{% block content %}
<section class="main-content work-gallery">
    <div class="container">
        <div class="page-hero">
            <h1>{{ page.title }}</h1>
        </div>
        <!-- {{ page.content }} -->
        <div class="grid flex-grid--gutters">
            {% for child in collection.order('header.order', 'desc') if child != page %}
                <div class="col col--width__{{ random(['four', 'eight']) }}">
                    <a href="{{ child.url }}">
                        <div class="work-image-box {{ random(['work--orange', 'work--blue__light', 'work--pink', 'work--turq']) }} {{ child.header.datacategoryone }} {{ child.header.datacategorytwo }} {{ child.header.datacategorythree }} {{ child.header.datacategoryfour }}" style="background-image: url( {{ child.media[child.header.homepagepreview].url }} )">
                            <div class="work-meta">
                                <div class="work-meta--content">
                                    <p class="work-meta--content-title">{{ child.title }}</p>
                                    <p class="work-meta--content-teaser">{{ child.header.homepageteaser }}</p>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}

{% endembed %}
